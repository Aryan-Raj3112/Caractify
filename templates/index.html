{% extends "layout.html" %}

{% block content %}
<body>
    <div class="chat-container">
        <h2 style="text-align: center;">Chat with Assistant</h2>
        <div class="chat-box">
            {% if chat_history %}
                {% for message in chat_history %}
                    <div class="message {{ message['role'] }}-msg">
                        {{ message['parts'] | safe }}
                    </div>
                {% endfor %}
            {% else %}
                <div class="message model-msg">
                    Hi! How can I help you today?
                </div>
            {% endif %}

        </div>

    <!-- Form to send messages -->
    <form action="/chat" method="POST">
        <input autocomplete="off" autofocus type="text" name="message" placeholder="Enter your message" required>
        <button id="sendButton" type="submit">Send</button>
    </form>

    <!-- Form to reset conversation history -->
    <form action="/reset" method="POST">
        <button id="resetButton" type="submit">Reset chat</button>
    </form>
</div>
</body>
{% endblock %}